<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="ISDP2025_Parfonov_Zerrou.MainWindow"
        Title="Login - Bullseye IMS" Height="800" Width="1000"
        MinWidth="1000" MinHeight="800"
        WindowStartupLocation="CenterScreen"
        Background="#F7F7F7" Loaded="Window_Loaded" Closing="Window_Closing" Icon="/Forms/bullseye.png">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="933*"/>
            <ColumnDefinition Width="67*"/>
        </Grid.ColumnDefinitions>
        <!-- Centered Content -->
        <Grid HorizontalAlignment="Left" VerticalAlignment="Top" Margin="300,219,0,0">
            <!-- Logo and Title -->
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,-146,0,0">
                <Image Source="/bullseye.png" Width="100" Height="100" />
                <TextBlock Text="Bullseye IMS" FontSize="24" FontWeight="Bold" 
                           HorizontalAlignment="Center" Foreground="#444" />
            </StackPanel>

            <!-- Login Form -->
            <Grid x:Name="LoginForm" Visibility="Visible">
                <Border Background="White" CornerRadius="10" Padding="20" Width="400">
                    <StackPanel>
                        <!-- Title -->
                        <TextBlock Text="Login" FontSize="20" FontWeight="Bold" Foreground="#333" Margin="0,0,0,10" />
                        <TextBlock Text="Log in by entering your UserID and password." 
                                   FontSize="12" Foreground="#888" Margin="0,0,0,20" />

                        <!-- Username Field -->
                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="Username:" FontSize="12" Foreground="#555" Margin="0,0,0,5" />
                            <DockPanel Background="#F0F0F0" Height="35" VerticalAlignment="Center" >
                                <Label FontFamily="../icons/#Font Awesome 6 Free Solid" Content="&#xf007;" Margin="0" FontSize="20" Foreground="#FF656262"/>
                                <TextBox x:Name="txtUserName" Background="Transparent" BorderThickness="0" 
                                         Margin="5,0" VerticalContentAlignment="Center" />
                            </DockPanel>
                        </StackPanel>

                        <!-- Password Field -->
                        <StackPanel Margin="0,0,0,20">
                            <TextBlock Text="Password:" FontSize="12" Foreground="#555" Margin="0,0,0,5" />
                            <Grid Background="#FFF0F0F0" Height="35">
                                <PasswordBox x:Name="pwdPassword" Background="Transparent" BorderThickness="0" 
                                             VerticalContentAlignment="Center" Visibility="Visible" Margin="5,0,40,0" Password="P@ssw0rd-" />
                                <TextBox x:Name="txtPassword" Background="Transparent" BorderThickness="0" 
                                         VerticalContentAlignment="Center" Visibility="Collapsed" Margin="5,0,40,0" />
                                <Label FontFamily="../icons/#Font Awesome 6 Free Solid" Content="&#xf06e;" FontSize="20" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#FF656262" MouseDown="TogglePasswordVisibility" Cursor="Hand" OpacityMask="#FFF0F0F0"/>
                            </Grid>
                            <TextBlock Text="Forgot password?" Foreground="#888" FontSize="12" 
                                       HorizontalAlignment="Right" Margin="0,5,0,0" Cursor="Hand"
                                       MouseDown="ShowPasswordResetForm" />
                        </StackPanel>

                        <!-- Login Button -->
                        <Button x:Name="btnLogIn" Content="Log in" Height="40" Background="#444" Foreground="White" 
                                FontWeight="Bold" BorderThickness="0" Click="btnLogIn_Click"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Password Reset Form -->
            <Grid x:Name="PasswordResetForm" Visibility="Collapsed">
                <Border Background="White" CornerRadius="10" Padding="20" Width="400">
                    <StackPanel>
                        <!-- Title -->
                        <TextBlock x:Name="txtResetTitle" Text="Forgot password?" FontSize="20" FontWeight="Bold" Foreground="#333" Margin="0,0,0,10" />
                        <TextBlock Text="Enter a New Password and we'll reset your password." 
                                   FontSize="12" Foreground="#888" Margin="0,0,0,20" />

                        <!-- Username Field -->
                        <StackPanel Margin="0,0,0,10">
                            <TextBlock x:Name="txtResetUsername" Text="Username:" FontSize="12" Foreground="#555" Margin="0,0,0,5" />
                            <DockPanel Background="#F0F0F0" Height="35" VerticalAlignment="Center">

                                <Label FontFamily="../icons/#Font Awesome 6 Free Solid" Content="&#xf007;" FontSize="20"
                                VerticalAlignment="Center" Margin="10,0" Foreground="#FF656262"/>

                                <TextBox x:Name="txtUserNameReset" Text="UserName" Background="Transparent" BorderThickness="0" 
                                         Margin="5,0" VerticalContentAlignment="Center" IsEnabled="False" />
                            </DockPanel>
                        </StackPanel>

                        <!-- New Password Field -->
                        <StackPanel Margin="0,0,0,10">
                            <TextBlock x:Name="txtResetNewPassword" Text="New password:" FontSize="12" Foreground="#555" Margin="0,0,0,5" />
                            <Grid Height="35" Background="#FFF0F0F0">
                                <PasswordBox x:Name="pwdNewPassword" Background="Transparent" BorderThickness="0" 
                                             VerticalContentAlignment="Center" Visibility="Visible" Margin="5,0,40,0" KeyUp="pwdNewPassword_KeyUp" />
                                <TextBox x:Name="txtNewPassword" Background="Transparent" BorderThickness="0" 
                                         VerticalContentAlignment="Center" Visibility="Collapsed" Margin="5,0,40,0" KeyUp="txtNewPassword_KeyUp" />

                                <Label FontFamily="../icons/#Font Awesome 6 Free Solid" Content="&#xf06e;" FontSize="20" HorizontalAlignment="Right"
                                       VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#FF656262" MouseDown="ToggleNewPasswordVisibility"
                                       Cursor="Hand" OpacityMask="#FFF0F0F0"/>
                            </Grid>
                        </StackPanel>

                        <!-- Confirm Password Field -->
                        <StackPanel Margin="0,0,0,20">
                            <TextBlock x:Name="txtResetConfirmNewPassword" Text="Confirm password:" FontSize="12" Foreground="#555" Margin="0,0,0,5" />
                            <Grid Height="35" Background="#FFF0F0F0">
                                <PasswordBox x:Name="pwdConfirmPassword" Background="Transparent" BorderThickness="0" 
                                             VerticalContentAlignment="Center" Visibility="Visible" Margin="5,0,40,0" KeyUp="pwdConfirmPassword_KeyUp" />
                                <TextBox x:Name="txtConfirmPassword" Background="Transparent" BorderThickness="0" 
                                         VerticalContentAlignment="Center" Visibility="Collapsed" Margin="5,0,40,0" KeyUp="txtConfirmPassword_KeyUp" />

                                <Label FontFamily="../icons/#Font Awesome 6 Free Solid" Content="&#xf06e;" FontSize="20" HorizontalAlignment="Right"
                                VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#FF656262" MouseDown="ToggleConfirmPasswordVisibility"
                                Cursor="Hand" OpacityMask="#FFF0F0F0"/>

                            </Grid>
                            <TextBlock x:Name="txtMatchPassword" FontSize="12" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                        </StackPanel>

                        <!-- Reset Password Button -->
                        <Button x:Name="btnResetPassword" Content="Reset Password" Height="40" Background="#444" Foreground="White" 
                                FontWeight="Bold" BorderThickness="0" Margin="0,10,0,0" Click="btnResetPassword_Click" />
                        <TextBlock Text="Generate Random password" Foreground="#888" FontSize="12" HorizontalAlignment="Center" Margin="0,10,0,0" Cursor="Hand" MouseDown="GeneratePassword"/>
                        <TextBlock Text="Go back to Login page." Foreground="#888" FontSize="12" 
                                   HorizontalAlignment="Center" Margin="0,10,0,0" Cursor="Hand"
                                   MouseDown="ShowLoginForm" />
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>

